import{R as l}from"./rapid-press-event-B_dua6Iq.js";import{J as x}from"./index-c0fuZDJO.js";import"./base-minigame-BKAltXfh.js";class m extends l{constructor(e,t,s){super(e,t,s),this.flexQuotes=["I worked on Diablo for 7 years!","I single-handedly debugged the entire engine!","I optimized that code to run 500% faster!","I've shipped more games than you've played!","That bug? I fixed it in my sleep!","I coded that feature during lunch break!","I've mentored half the industry!","I wrote documentation that actually helped people!","I optimized memory usage by 90%!","I made the impossible deadline!"],this.currentFlexLevel=0,this.maxFlexLevel=5,this.flexPowerBars=[]}getEventConfig(){return{title:"‚ùÑÔ∏è BLIZZARD FLEX POWER ‚ùÑÔ∏è",instructions:"Rapidly press Y to charge your flex energy!",backgroundColor:4386,strokeColor:49151,introAnimation:"fadeIn",successAnimation:"explosive",decorations:[{type:"emoji",x:50,y:40,emoji:"‚ùÑÔ∏è",size:"12px"},{type:"emoji",x:150,y:60,emoji:"‚ùÑÔ∏è",size:"10px"},{type:"emoji",x:80,y:80,emoji:"‚ùÑÔ∏è",size:"14px"},{type:"emoji",x:200,y:50,emoji:"‚ùÑÔ∏è",size:"8px"},{type:"emoji",x:120,y:30,emoji:"‚ùÑÔ∏è",size:"16px"}]}}getRapidPressConfig(){return{key:"Y",targetPresses:18,decayRate:.8,gaugeStyle:"custom",position:{x:this.eventArea.x+this.eventArea.width/2,y:this.eventArea.y+this.eventArea.height-25}}}createCustomInterface(){const e=this.eventArea.x+this.eventArea.width/2,t=this.eventArea.y+this.eventArea.height/2,s=this.scene.add.rectangle(e,t-20,200,60,128).setStrokeStyle(2,49151);this.trackElement(s),this.createFlexPowerBars(),this.quoteText=this.scene.add.text(e,t+40,"Build up flex energy to unleash your power!",{fontSize:"7px",fontFamily:"Arial",color:"#FFFFFF",wordWrap:{width:210},align:"center"}).setOrigin(.5),this.trackElement(this.quoteText),this.createSnowstorm()}createFlexPowerBars(){const e=this.eventArea.x+this.eventArea.width/2-75,t=this.eventArea.y+this.eventArea.height/2-30;this.flexPowerBars=[];for(let i=0;i<this.maxFlexLevel;i++){const r=this.scene.add.rectangle(e+i*30,t,25,12,13158).setStrokeStyle(1,49151);this.trackElement(r),this.flexPowerBars.push(r)}const s=this.scene.add.text(e-40,t,"FLEX:",{fontSize:"7px",color:"#00BFFF",fontFamily:'"Press Start 2P"'}).setOrigin(1,.5);this.trackElement(s)}createSnowstorm(){for(let e=0;e<15;e++){const t=this.scene.add.text(this.eventArea.x+Math.random()*this.eventArea.width,this.eventArea.y+Math.random()*this.eventArea.height,"‚ùÑÔ∏è",{fontSize:Math.random()*6+6+"px"});this.trackElement(t),this.scene.tweens.add({targets:t,y:t.y+100,x:t.x+Phaser.Math.Between(-20,20),alpha:[1,.3,1],duration:Phaser.Math.Between(3e3,6e3),repeat:-1,ease:"Linear",onRepeat:()=>{t.x=this.eventArea.x+Math.random()*this.eventArea.width,t.y=this.eventArea.y-20}})}}handleProgressUpdate(e,t,s){const i=e/t,r=Math.floor(i*this.maxFlexLevel);this.flexPowerBars.forEach((o,a)=>{if(a<r){const n=Math.min(1,i*this.maxFlexLevel-a),h=this.getFlexColor(n);o.setFillStyle(h)}else o.setFillStyle(13158)}),this.updateFlexQuote(i),this.currentFlexLevel=r}handleKeyPress(e,t){this.createFlexBurst()}getFlexColor(e){const t=Math.floor(255*e),s=Math.floor(255*e);return t<<16|s<<8|255}updateFlexQuote(e){if(e<.2)this.quoteText.setText("Building flex energy..."),this.quoteText.setColor("#CCCCCC");else if(e<.5)this.quoteText.setText("Power levels rising..."),this.quoteText.setColor("#00BFFF");else if(e<.8){const t=Phaser.Utils.Array.GetRandom(this.flexQuotes);this.quoteText.setText(t),this.quoteText.setColor("#FFD700")}else this.quoteText.setText("MAXIMUM FLEX POWER ACHIEVED!"),this.quoteText.setColor("#00FFFF")}createFlexBurst(){const e=["‚ùÑÔ∏è","‚ö°","üí™","üî•"],t=Phaser.Utils.Array.GetRandom(e),s=this.scene.add.text(this.eventArea.x+this.eventArea.width/2+(Math.random()-.5)*100,this.eventArea.y+this.eventArea.height/2+(Math.random()-.5)*60,t,{fontSize:"12px"}).setOrigin(.5).setDepth(100);this.scene.tweens.add({targets:s,y:s.y-25,alpha:0,scaleX:[1,1.5,0],scaleY:[1,1.5,0],duration:800,ease:"Power2.easeOut",onComplete:()=>s.destroy()})}handleCompletion(){x.play(this.scene,"flex_power",{volume:.6}),this.quoteText.setText("I AM THE FLEXMASTER! BOW BEFORE MY BLIZZARD EXPERIENCE!"),this.quoteText.setColor("#FFD700");for(let e=0;e<12;e++){const t=e/12*Math.PI*2,s=this.scene.add.text(this.eventArea.x+this.eventArea.width/2,this.eventArea.y+this.eventArea.height/2,"‚ö°",{fontSize:"16px"}).setDepth(999);this.scene.tweens.add({targets:s,x:s.x+Math.cos(t)*80,y:s.y+Math.sin(t)*80,alpha:0,duration:1e3,ease:"Power2.easeOut",onComplete:()=>s.destroy()})}}}export{m as FlexPowerMinigame};
